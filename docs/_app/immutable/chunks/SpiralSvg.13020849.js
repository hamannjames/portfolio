import{l as C,m as F,s as B,i as L,p as Q,o as z,e as G,u as J,g as K,f as W,b as N,n as S,r as X}from"./scheduler.cdd84b32.js";import{S as O,i as V,g as D,h as j,j as v,f as w,k as d,a as A,d as M,p as Y,t as I,b as Z,E as P,F as k,A as T,D as b}from"./index.bf798282.js";const $=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ht(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function tt(e){const t=e-1;return t*t*t+1}function et(e,{delay:t=0,duration:s=400,easing:n=F}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:n,css:r=>`opacity: ${r*l}`}}function dt(e,{delay:t=0,duration:s=400,easing:n=tt,x:l=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(e),o=+i.opacity,u=i.transform==="none"?"":i.transform,h=o*(1-a),[f,g]=C(l),[c,m]=C(r);return{delay:t,duration:s,easing:n,css:(p,_)=>`
			transform: ${u} translate(${(1-p)*f}${g}, ${(1-p)*c}${m});
			opacity: ${o-h*_}`}}function H(e,{id:t="",root:s=null,rootMargin:n="0px",threshold:l="0.1",use:r=!0,trackOffset:a=!1}){if(!r)return;console.log(l);let i;const o=t?t+"-":"",u=h=>{const f=o+(h[0].isIntersecting?"enter":"exit");e.dispatchEvent(new CustomEvent(f))};return i=new IntersectionObserver(u,{root:s,rootMargin:n,threshold:l}),i.observe(e),{destroy(){i.disconnect()}}}function x(e){let t;const s=e[8].default,n=G(s,e,e[7],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,r){n&&n.m(l,r),t=!0},p(l,r){n&&n.p&&(!t||r&128)&&J(n,s,l,l[7],t?W(s,l[7],r,null):K(l[7]),null)},i(l){t||(M(n,l),t=!0)},o(l){I(n,l),t=!1},d(l){n&&n.d(l)}}}function nt(e){let t,s,n,l,r,a=e[3]&&x(e);return{c(){t=D("div"),a&&a.c(),this.h()},l(i){t=j(i,"DIV",{class:!0});var o=v(t);a&&a.l(o),o.forEach(w),this.h()},h(){d(t,"class",e[1])},m(i,o){A(i,t,o),a&&a.m(t,null),e[9](t),n=!0,l||(r=L(s=H.call(null,t,{id:e[0].toString()})),l=!0)},p(i,[o]){i[3]?a?(a.p(i,o),o&8&&M(a,1)):(a=x(i),a.c(),M(a,1),a.m(t,null)):a&&(Y(),I(a,1,1,()=>{a=null}),Z()),(!n||o&2)&&d(t,"class",i[1]),s&&Q(s.update)&&o&1&&s.update.call(null,{id:i[0].toString()})},i(i){n||(M(a),n=!0)},o(i){I(a),n=!1},d(i){i&&w(t),a&&a.d(),e[9](null),l=!1,r()}}}function st(e,t,s){let{$$slots:n={},$$scope:l}=t,{id:r=0}=t,{className:a=""}=t,{containerClass:i=""}=t,{theTransition:o=et}=t,{options:u={}}=t,h,f=!1;z(()=>{const c=()=>s(3,f=!0);return h.addEventListener(`${r}-enter`,c),()=>{h.removeEventListener(`${r}-enter`,c)}});function g(c){N[c?"unshift":"push"](()=>{h=c,s(2,h)})}return e.$$set=c=>{"id"in c&&s(0,r=c.id),"className"in c&&s(1,a=c.className),"containerClass"in c&&s(4,i=c.containerClass),"theTransition"in c&&s(5,o=c.theTransition),"options"in c&&s(6,u=c.options),"$$scope"in c&&s(7,l=c.$$scope)},[r,a,h,f,i,o,u,l,n,g]}class gt extends O{constructor(t){super(),V(this,t,st,nt,B,{id:0,className:1,containerClass:4,theTransition:5,options:6})}}const{window:it}=$;function ot(e){let t,s,n,l,r,a;return{c(){t=D("div"),s=P("svg"),n=P("path"),this.h()},l(i){t=j(i,"DIV",{class:!0});var o=v(t);s=k(o,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var u=v(s);n=k(u,"path",{"stroke-linecap":!0,id:!0,d:!0,fill:!0,stroke:!0,"stroke-width":!0}),v(n).forEach(w),u.forEach(w),o.forEach(w),this.h()},h(){d(n,"stroke-linecap","round"),d(n,"id",l="spiral-"+e[0]),d(n,"d",e[2]),d(n,"fill","none"),d(n,"stroke","white"),d(n,"stroke-width","10"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"width","400"),d(s,"height","400"),d(s,"viewBox","0 0 800 800"),d(t,"class","flex items-center justify-center bg-black")},m(i,o){A(i,t,o),T(t,s),T(s,n),e[6](s),r||(a=[b(it,"scroll",e[3]),b(s,"spiral-enter",e[4]),b(s,"spiral-exit",e[5]),L(H.call(null,s,{id:"spiral",threshold:"0.4"}))],r=!0)},p(i,[o]){o&1&&l!==(l="spiral-"+i[0])&&d(n,"id",l),o&4&&d(n,"d",i[2])},i:S,o:S,d(i){i&&w(t),e[6](null),r=!1,X(a)}}}let lt=100;const at=710;function ct(e,t,s,n){if(e===s)throw new Error("parallel slopes");const l=(n-t)/(e-s);return{x:l,y:e*l+t}}function E(e){return`${e.x},${e.y} `}function R(e,t,s,n,l,r){const a=t,i=s/Math.PI/2;let o=n*Math.PI/180,u=o;l=l*Math.PI/180,r=r*Math.PI/180;let h,f=a+i*o;const g={x:e.x+f*Math.cos(o),y:e.y+f*Math.sin(o)};let c=(i*Math.sin(u)+(a+i*o)*Math.cos(u))/(i*Math.cos(u)-(a+i*o)*Math.sin(u)),m,p="M "+E(g);for(;u<l-r;){u=o,o+=r,h=f,f=a+i*o,g.x=e.x+f*Math.cos(o),g.y=e.y+f*Math.sin(o);const _=a+i*o;m=c,c=(i*Math.sin(o)+_*Math.cos(o))/(i*Math.cos(o)-_*Math.sin(o));const U=-(m*h*Math.cos(u)-h*Math.sin(u)),q=-(c*f*Math.cos(o)-f*Math.sin(o)),y=ct(m,U,c,q);y.x+=e.x,y.y+=e.y,p+="Q "+E(y)+E(g)}return p}function rt(e,t,s){let{id:n=0}=t,l,r=!1,a=5,i=R({x:400,y:400},0,30,0,a/60*360,60);const o=()=>{r&&s(2,i=R({x:400,y:400},0,30,0,a/60*360-450,60))},u=()=>{if(r){const c=window.innerHeight,m=l.getBoundingClientRect().top;a=Math.min(c-m-lt,at),o()}},h=()=>{r=!0},f=()=>{r=!1};function g(c){N[c?"unshift":"push"](()=>{l=c,s(1,l)})}return e.$$set=c=>{"id"in c&&s(0,n=c.id)},[n,l,i,u,h,f,g]}class mt extends O{constructor(t){super(),V(this,t,rt,ot,B,{id:0})}}export{gt as R,mt as S,et as a,ht as e,dt as f,H as i};
