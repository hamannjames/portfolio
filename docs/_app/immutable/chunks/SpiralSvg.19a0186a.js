import{k as I,l as Q,s as R,h as L,m as z,o as F,d as G,u as J,g as K,e as W,b as N,n as C,r as X}from"./scheduler.7a66746d.js";import{S as O,i as V,g as D,h as j,j as y,f as m,k as d,a as H,d as v,p as Y,t as E,b as Z,D as S,E as P,A as T,B as b}from"./index.851456ed.js";const $=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function tt(e){const t=e-1;return t*t*t+1}function et(e,{delay:t=0,duration:s=400,easing:n=Q}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:n,css:c=>`opacity: ${c*l}`}}function ht(e,{delay:t=0,duration:s=400,easing:n=tt,x:l=0,y:c=0,opacity:a=0}={}){const i=getComputedStyle(e),o=+i.opacity,u=i.transform==="none"?"":i.transform,h=o*(1-a),[f,_]=I(l),[r,g]=I(c);return{delay:t,duration:s,easing:n,css:(w,p)=>`
			transform: ${u} translate(${(1-w)*f}${_}, ${(1-w)*r}${g});
			opacity: ${o-h*p}`}}function U(e,{id:t="",root:s=null,rootMargin:n="0px",threshold:l="0.1",use:c=!0,trackOffset:a=!1}){if(!c)return;console.log(l);let i;const o=t?t+"-":"",u=h=>{const f=o+(h[0].isIntersecting?"enter":"exit");e.dispatchEvent(new CustomEvent(f))};return i=new IntersectionObserver(u,{root:s,rootMargin:n,threshold:l}),i.observe(e),{destroy(){i.disconnect()}}}function x(e){let t;const s=e[8].default,n=G(s,e,e[7],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,c){n&&n.m(l,c),t=!0},p(l,c){n&&n.p&&(!t||c&128)&&J(n,s,l,l[7],t?W(s,l[7],c,null):K(l[7]),null)},i(l){t||(v(n,l),t=!0)},o(l){E(n,l),t=!1},d(l){n&&n.d(l)}}}function nt(e){let t,s,n,l,c,a=e[3]&&x(e);return{c(){t=D("div"),a&&a.c(),this.h()},l(i){t=j(i,"DIV",{class:!0});var o=y(t);a&&a.l(o),o.forEach(m),this.h()},h(){d(t,"class",e[1])},m(i,o){H(i,t,o),a&&a.m(t,null),e[9](t),n=!0,l||(c=L(s=U.call(null,t,{id:e[0].toString()})),l=!0)},p(i,[o]){i[3]?a?(a.p(i,o),o&8&&v(a,1)):(a=x(i),a.c(),v(a,1),a.m(t,null)):a&&(Y(),E(a,1,1,()=>{a=null}),Z()),(!n||o&2)&&d(t,"class",i[1]),s&&z(s.update)&&o&1&&s.update.call(null,{id:i[0].toString()})},i(i){n||(v(a),n=!0)},o(i){E(a),n=!1},d(i){i&&m(t),a&&a.d(),e[9](null),l=!1,c()}}}function st(e,t,s){let{$$slots:n={},$$scope:l}=t,{id:c=0}=t,{className:a=""}=t,{containerClass:i=""}=t,{theTransition:o=et}=t,{options:u={}}=t,h,f=!1;F(()=>{const r=()=>s(3,f=!0);return h.addEventListener(`${c}-enter`,r),()=>{h.removeEventListener(`${c}-enter`,r)}});function _(r){N[r?"unshift":"push"](()=>{h=r,s(2,h)})}return e.$$set=r=>{"id"in r&&s(0,c=r.id),"className"in r&&s(1,a=r.className),"containerClass"in r&&s(4,i=r.containerClass),"theTransition"in r&&s(5,o=r.theTransition),"options"in r&&s(6,u=r.options),"$$scope"in r&&s(7,l=r.$$scope)},[c,a,h,f,i,o,u,l,n,_]}class dt extends O{constructor(t){super(),V(this,t,st,nt,R,{id:0,className:1,containerClass:4,theTransition:5,options:6})}}const{window:it}=$;function ot(e){let t,s,n,l,c,a;return{c(){t=D("div"),s=S("svg"),n=S("path"),this.h()},l(i){t=j(i,"DIV",{class:!0});var o=y(t);s=P(o,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var u=y(s);n=P(u,"path",{"stroke-linecap":!0,id:!0,d:!0,fill:!0,stroke:!0,"stroke-width":!0}),y(n).forEach(m),u.forEach(m),o.forEach(m),this.h()},h(){d(n,"stroke-linecap","round"),d(n,"id",l="spiral-"+e[0]),d(n,"d",e[2]),d(n,"fill","none"),d(n,"stroke","white"),d(n,"stroke-width","10"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"width","400"),d(s,"height","400"),d(s,"viewBox","0 0 800 800"),d(t,"class","flex items-center justify-center bg-black")},m(i,o){H(i,t,o),T(t,s),T(s,n),e[6](s),c||(a=[b(it,"scroll",e[3]),b(s,"spiral-enter",e[4]),b(s,"spiral-exit",e[5]),L(U.call(null,s,{id:"spiral",threshold:"0.4"}))],c=!0)},p(i,[o]){o&1&&l!==(l="spiral-"+i[0])&&d(n,"id",l),o&4&&d(n,"d",i[2])},i:C,o:C,d(i){i&&m(t),e[6](null),c=!1,X(a)}}}let lt=100;const at=710;function rt(e,t,s,n){if(e===s)throw new Error("parallel slopes");const l=(n-t)/(e-s);return{x:l,y:e*l+t}}function k(e){return`${e.x},${e.y} `}function B(e,t,s,n,l,c){const a=t,i=s/Math.PI/2;let o=n*Math.PI/180,u=o;l=l*Math.PI/180,c=c*Math.PI/180;let h,f=a+i*o;const _={x:e.x+f*Math.cos(o),y:e.y+f*Math.sin(o)};let r=(i*Math.sin(u)+(a+i*o)*Math.cos(u))/(i*Math.cos(u)-(a+i*o)*Math.sin(u)),g,w="M "+k(_);for(;u<l-c;){u=o,o+=c,h=f,f=a+i*o,_.x=e.x+f*Math.cos(o),_.y=e.y+f*Math.sin(o);const p=a+i*o;g=r,r=(i*Math.sin(o)+p*Math.cos(o))/(i*Math.cos(o)-p*Math.sin(o));const q=-(g*h*Math.cos(u)-h*Math.sin(u)),A=-(r*f*Math.cos(o)-f*Math.sin(o)),M=rt(g,q,r,A);M.x+=e.x,M.y+=e.y,w+="Q "+k(M)+k(_)}return w}function ct(e,t,s){let{id:n=0}=t,l,c=!1,a=5,i=B({x:400,y:400},0,30,0,a/60*360,60);const o=()=>{c&&s(2,i=B({x:400,y:400},0,30,0,a/60*360-450,60))},u=()=>{if(c){const r=window.innerHeight,g=l.getBoundingClientRect().top;a=Math.min(r-g-lt,at),o()}},h=()=>{c=!0},f=()=>{c=!1};function _(r){N[r?"unshift":"push"](()=>{l=r,s(1,l)})}return e.$$set=r=>{"id"in r&&s(0,n=r.id)},[n,l,i,u,h,f,_]}class _t extends O{constructor(t){super(),V(this,t,ct,ot,R,{id:0})}}export{dt as R,_t as S,et as a,ht as f,U as i};
